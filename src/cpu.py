import numpy as np

VIDEO_WIDTH = 64
VIDEO_HEIGHT = 32
START_ADDRESS = 0x200
FONTSET_SIZE = 80
FONTSET_START_ADDRESS = 0x50

fontset = [
    0xF0, 0x90, 0x90, 0x90, 0xF0, # 0
    0x20, 0x60, 0x20, 0x20, 0x70, # 1
    0xF0, 0x10, 0xF0, 0x80, 0xF0, # 2
    0xF0, 0x10, 0xF0, 0x10, 0xF0, # 3
    0x90, 0x90, 0xF0, 0x10, 0x10, # 4
    0xF0, 0x80, 0xF0, 0x10, 0xF0, # 5
    0xF0, 0x80, 0xF0, 0x90, 0xF0, # 6
    0xF0, 0x10, 0x20, 0x40, 0x40, # 7
    0xF0, 0x90, 0xF0, 0x90, 0xF0, # 8
    0xF0, 0x90, 0xF0, 0x10, 0xF0, # 9
    0xF0, 0x90, 0xF0, 0x90, 0x90, # A
    0xE0, 0x90, 0xE0, 0x90, 0xE0, # B
    0xF0, 0x80, 0x80, 0x80, 0xF0, # C
    0xE0, 0x90, 0x90, 0x90, 0xE0, # D
    0xF0, 0x80, 0xF0, 0x80, 0xF0, # E
    0xF0, 0x80, 0xF0, 0x80, 0x80  # F
]

class Chip8:
    def __init__(self):
        self.registers = [0] * 16
        self.memory = [0] * 4096
        self.index = 0
        self.pc = START_ADDRESS
        self.stack = [0] * 16
        self.sp = 0
        self.delayTimer = 0
        self.soundTimer = 0
        self.keypad = [0] * 16
        self.video = np.zeros((VIDEO_HEIGHT, VIDEO_WIDTH), dtype=np.uint8)
        self.opcode = 0

''' 
Opcodes are done from previous attempt, and basic cpu variables.

what's next:

1. input functions for certain keys (should eventually be programmable)
2. Implement Cycles
3. opcode table
4. adjustable speeds
5. add pause/save states with options to import/export
6. add audio
7. usuable ui with everything implemented
8. Chip-48 Expansion

'''